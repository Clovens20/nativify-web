(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{782:function(e,t,r){Promise.resolve().then(r.bind(r,8301))},8301:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var a=r(7437),s=r(2265),n=r(9376),i=r(1245),l=r(8705),o=r(9820),c=r(2381),d=r(279),u=r(5060),f=r(1593),m=r(4438),h=r(1817),x=r(2369),b=r(8906);function p(){let{user:e,loading:t,logout:r}=(0,i.a)(),p=(0,n.useRouter)();return((0,s.useEffect)(()=>{t||e||p.push("/login")},[e,t,p]),t||!e)?(0,a.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,a.jsx)(h.Z,{className:"w-8 h-8 animate-spin text-primary"})}):(0,a.jsx)(l.c,{title:"Settings",subtitle:"Manage your account settings",children:(0,a.jsxs)("div",{className:"max-w-2xl space-y-6",children:[(0,a.jsxs)(o.Zb,{className:"bg-background-paper border-white/10",children:[(0,a.jsxs)(o.Ol,{children:[(0,a.jsxs)(o.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(x.Z,{className:"w-5 h-5 text-primary"}),"Profile Information"]}),(0,a.jsx)(o.SZ,{children:"Your personal account details"})]}),(0,a.jsxs)(o.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u._,{children:"Name"}),(0,a.jsx)(d.I,{value:e.name,disabled:!0,className:"bg-background border-white/10"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u._,{children:"Email"}),(0,a.jsx)(d.I,{value:e.email,disabled:!0,className:"bg-background border-white/10"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u._,{children:"Role"}),(0,a.jsx)(d.I,{value:e.role,disabled:!0,className:"bg-background border-white/10"})]})]})]}),(0,a.jsxs)(o.Zb,{className:"bg-background-paper border-white/10",children:[(0,a.jsx)(o.Ol,{children:(0,a.jsxs)(o.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(b.Z,{className:"w-5 h-5 text-primary"}),"Account Actions"]})}),(0,a.jsxs)(o.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Sign Out"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Sign out of your account"})]}),(0,a.jsx)(c.z,{variant:"outline",className:"border-white/10",onClick:()=>{r(),p.push("/")},children:"Sign Out"})]}),(0,a.jsx)(f.Z,{className:"bg-white/10"}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-destructive",children:"Delete Account"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Permanently delete your account and all data"})]}),(0,a.jsx)(c.z,{variant:"destructive",onClick:()=>m.Am.error("Account deletion is disabled in demo mode"),children:"Delete Account"})]})]})]})]})})}},8705:function(e,t,r){"use strict";r.d(t,{c:function(){return k}});var a=r(7437),s=r(7648),n=r(9376),i=r(1245),l=r(3448),o=r(2381),c=r(2265),d=r(7954);let u=c.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(d.fC,{ref:t,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...s})});u.displayName=d.fC.displayName,c.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(d.Ee,{ref:t,className:(0,l.cn)("aspect-square h-full w-full",r),...s})}).displayName=d.Ee.displayName;let f=c.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(d.NY,{ref:t,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...s})});f.displayName=d.NY.displayName;var m=r(5466),h=r(2051),x=r(3454),b=r(4001),p=r(8736),g=r(8728),v=r(1239),N=r(8906),j=r(7692);let y=[{href:"/dashboard",icon:m.Z,label:"Dashboard"},{href:"/projects",icon:h.Z,label:"Projects"},{href:"/builds",icon:x.Z,label:"Builds"},{href:"/api-keys",icon:b.Z,label:"API Keys"},{href:"/docs",icon:p.Z,label:"Documentation"},{href:"/settings",icon:g.Z,label:"Settings"}];function w(){var e,t;let r=(0,n.usePathname)(),{user:c,logout:d}=(0,i.a)();return(0,a.jsxs)("aside",{className:"fixed left-0 top-0 h-screen w-64 bg-background-paper border-r border-white/10 flex flex-col",children:[(0,a.jsx)("div",{className:"p-6 border-b border-white/10",children:(0,a.jsxs)(s.default,{href:"/dashboard",className:"flex items-center gap-3","data-testid":"sidebar-logo",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-md bg-primary/20 border border-primary flex items-center justify-center",children:(0,a.jsx)(v.Z,{className:"w-5 h-5 text-primary"})}),(0,a.jsx)("span",{className:"font-heading font-bold text-xl",children:"NativiWeb"})]})}),(0,a.jsxs)("nav",{className:"flex-1 p-4 space-y-1",children:[y.map(e=>{let t=e.icon,n=r===e.href;return(0,a.jsxs)(s.default,{href:e.href,"data-testid":"nav-".concat(e.label.toLowerCase()),className:(0,l.cn)("flex items-center gap-3 px-4 py-3 rounded-md text-sm font-medium transition-all",n?"bg-primary/10 text-primary border border-primary/30":"text-muted-foreground hover:bg-white/5 hover:text-foreground"),children:[(0,a.jsx)(t,{className:"w-5 h-5"}),e.label]},e.href)}),(null==c?void 0:c.role)==="admin"&&(0,a.jsxs)(s.default,{href:"/admin","data-testid":"nav-admin",className:(0,l.cn)("flex items-center gap-3 px-4 py-3 rounded-md text-sm font-medium transition-all","/admin"===r?"bg-secondary/10 text-secondary border border-secondary/30":"text-muted-foreground hover:bg-white/5 hover:text-foreground"),children:[(0,a.jsx)(N.Z,{className:"w-5 h-5"}),"Admin Panel"]})]}),(0,a.jsxs)("div",{className:"p-4 border-t border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)(u,{className:"h-10 w-10 border border-white/10",children:(0,a.jsx)(f,{className:"bg-primary/20 text-primary",children:(null==c?void 0:null===(t=c.name)||void 0===t?void 0:null===(e=t.charAt(0))||void 0===e?void 0:e.toUpperCase())||"U"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium truncate",children:(null==c?void 0:c.name)||"User"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:null==c?void 0:c.email})]})]}),(0,a.jsxs)(o.z,{variant:"ghost",className:"w-full justify-start text-muted-foreground hover:text-destructive",onClick:d,"data-testid":"logout-btn",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}function k(e){let{children:t,title:r,subtitle:s}=e;return(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)(w,{}),(0,a.jsxs)("main",{className:"ml-64 p-8",children:[(r||s)&&(0,a.jsxs)("div",{className:"mb-8",children:[r&&(0,a.jsx)("h1",{className:"text-3xl font-heading font-bold text-foreground","data-testid":"page-title",children:r}),s&&(0,a.jsx)("p",{className:"mt-2 text-muted-foreground","data-testid":"page-subtitle",children:s})]}),t]})]})}},2381:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var a=r(7437),s=r(2265),n=r(7495),i=r(535),l=r(3448);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary-hover",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary-hover",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:c=!1,...d}=e,u=c?n.g7:"button";return(0,a.jsx)(u,{className:(0,l.cn)(o({variant:s,size:i,className:r})),ref:t,...d})});c.displayName="Button"},9820:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return d},eW:function(){return u},ll:function(){return o}});var a=r(7437),s=r(2265),n=r(3448);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border border-border bg-card text-card-foreground shadow-sm",r),...s})});i.displayName="Card";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});l.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});o.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});c.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},279:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var a=r(7437),s=r(2265),n=r(3448);let i=s.forwardRef((e,t)=>{let{className:r,type:s,...i}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},5060:function(e,t,r){"use strict";r.d(t,{_:function(){return c}});var a=r(7437),s=r(2265),n=r(370),i=r(535),l=r(3448);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.f,{ref:t,className:(0,l.cn)(o(),r),...s})});c.displayName=n.f.displayName},1593:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var a=r(7437),s=r(2265),n=r(759),i=r(3448);let l=s.forwardRef((e,t)=>{let{className:r,orientation:s="horizontal",decorative:l=!0,...o}=e;return(0,a.jsx)(n.f,{ref:t,decorative:l,orientation:s,className:(0,i.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",r),...o})});l.displayName=n.f.displayName},1245:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return d},a:function(){return c}});var a=r(7437),s=r(2265),n=r(5526),i=r(3464);let l="https://nativify.preview.emergentagent.com/api",o=(0,s.createContext)(null),c=()=>{let e=(0,s.useContext)(o);if(!e)throw Error("useAuth must be used within AuthProvider");return e},d=e=>{let{children:t}=e,[r,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(null),[f,m]=(0,s.useState)(!0),h=(0,n.e)();(0,s.useEffect)(()=>{(async()=>{try{let{data:{session:t}}=await h.auth.getSession();if(null==t?void 0:t.user){u(t);try{let e=await i.Z.get("".concat(l,"/auth/me?token=").concat(t.access_token));c(e.data)}catch(r){var e;console.error("Failed to fetch user profile:",r),c({id:t.user.id,email:t.user.email||"",name:(null===(e=t.user.user_metadata)||void 0===e?void 0:e.name)||"",role:"user"})}}}catch(e){console.error("Auth init error:",e)}finally{m(!1)}})();let{data:{subscription:e}}=h.auth.onAuthStateChange(async(e,t)=>{if(u(t),null==t?void 0:t.user)try{let e=await i.Z.get("".concat(l,"/auth/me?token=").concat(t.access_token));c(e.data)}catch(e){var r;c({id:t.user.id,email:t.user.email||"",name:(null===(r=t.user.user_metadata)||void 0===r?void 0:r.name)||"",role:"user"})}else c(null)});return()=>{e.unsubscribe()}},[]);let x=async(e,t)=>{let{token:r,user:a}=(await i.Z.post("".concat(l,"/auth/login"),{email:e,password:t})).data;return await h.auth.signInWithPassword({email:e,password:t}),c(a),a},b=async(e,t,r)=>(await i.Z.post("".concat(l,"/auth/register"),{email:e,password:t,name:r})).data,p=async()=>{try{(null==d?void 0:d.access_token)&&await i.Z.post("".concat(l,"/auth/logout?token=").concat(d.access_token))}catch(e){console.error("Logout error:",e)}await h.auth.signOut(),c(null),u(null)},g=async()=>{await h.auth.signInWithOAuth({provider:"github",options:{redirectTo:"".concat(window.location.origin,"/auth/callback")}})};return(0,a.jsx)(o.Provider,{value:{user:r,session:d,loading:f,login:x,register:b,logout:p,loginWithGitHub:g,isAuthenticated:!!r},children:t})}},5526:function(e,t,r){"use strict";r.d(t,{e:function(){return s}});var a=r(1259);function s(){return(0,a.createBrowserClient)("https://nrjadlmluharqvlqymtp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5yamFkbG1sdWhhcnF2bHF5bXRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc2NzM2OTYsImV4cCI6MjA4MzI0OTY5Nn0.F68c5SETbif9HWdNMRBbXa5tEvXVegrbdob5fFjLo38")}},3448:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var a=r(1994),s=r(3335);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}}},function(e){e.O(0,[259,464,972,572,438,735,971,117,744],function(){return e(e.s=782)}),_N_E=e.O()}]);