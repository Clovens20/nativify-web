(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[156],{9945:function(e,s,t){Promise.resolve().then(t.bind(t,7002))},7002:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return v}});var r=t(7437),a=t(2265),n=t(9376),i=t(1245),l=t(8705),c=t(9820),d=t(2381),o=t(9174),u=t(7204),m=t(1837),f=t(1817),x=t(2934),h=t(9388),p=t(9322),g=t(3388),j=t(6657),b=t(1723),N=t(2735);function v(){let{user:e,loading:s}=(0,i.a)(),t=(0,n.useRouter)(),[v,w]=(0,a.useState)([]),[y,Z]=(0,a.useState)({}),[C,E]=(0,a.useState)(!0);if((0,a.useEffect)(()=>{s||e||t.push("/login")},[e,s,t]),(0,a.useEffect)(()=>{(async()=>{if(null==e?void 0:e.id)try{let[s,t]=await Promise.all([m.Sm.getAll(e.id),m.qx.getAll(e.id)]);w(s);let r={};t.forEach(e=>{r[e.id]=e}),Z(r)}catch(e){console.error("Failed to fetch builds:",e)}finally{E(!1)}})()},[e]),s||!e)return(0,r.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,r.jsx)(f.Z,{className:"w-8 h-8 animate-spin text-primary"})});let S=e=>{switch(e){case"completed":return(0,r.jsxs)(o.C,{variant:"success",className:"flex items-center gap-1",children:[(0,r.jsx)(x.Z,{className:"w-3 h-3"})," Completed"]});case"processing":return(0,r.jsxs)(o.C,{className:"flex items-center gap-1 bg-primary/20 text-primary",children:[(0,r.jsx)(f.Z,{className:"w-3 h-3 animate-spin"})," Processing"]});case"failed":return(0,r.jsxs)(o.C,{variant:"destructive",className:"flex items-center gap-1",children:[(0,r.jsx)(h.Z,{className:"w-3 h-3"})," Failed"]});default:return(0,r.jsxs)(o.C,{variant:"warning",className:"flex items-center gap-1",children:[(0,r.jsx)(p.Z,{className:"w-3 h-3"})," Pending"]})}};return(0,r.jsx)(l.c,{title:"Builds",subtitle:"View all your build history",children:(0,r.jsxs)(c.Zb,{className:"bg-background-paper border-white/10",children:[(0,r.jsxs)(c.Ol,{children:[(0,r.jsx)(c.ll,{children:"Build History"}),(0,r.jsx)(c.SZ,{children:"All builds across your projects"})]}),(0,r.jsx)(c.aY,{children:C?(0,r.jsx)("div",{className:"flex justify-center py-20",children:(0,r.jsx)(f.Z,{className:"w-8 h-8 animate-spin text-primary"})}):0===v.length?(0,r.jsxs)("div",{className:"text-center py-20",children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"No builds yet"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Start a build from one of your projects"})]}):(0,r.jsx)("div",{className:"space-y-4",children:v.map(s=>{var t;return(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border border-white/10 hover:border-white/20 transition-colors","data-testid":"build-".concat(s.id),children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center ".concat("android"===s.platform?"bg-success/10":"bg-info/10"),children:"android"===s.platform?(0,r.jsx)(g.Z,{className:"w-6 h-6 text-success"}):(0,r.jsx)(j.Z,{className:"w-6 h-6 text-info"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:(null===(t=y[s.project_id])||void 0===t?void 0:t.name)||"Unknown Project"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[s.platform.charAt(0).toUpperCase()+s.platform.slice(1)," Build"]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-1",children:[(0,r.jsx)(b.Z,{className:"w-3 h-3"}),new Date(s.created_at).toLocaleString()]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:["processing"===s.status&&(0,r.jsxs)("div",{className:"w-32",children:[(0,r.jsx)(u.E,{value:s.progress,className:"h-2"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground text-center mt-1",children:[s.progress,"%"]})]}),S(s.status),"completed"===s.status&&(0,r.jsx)("a",{href:m.Sm.download(s.id,e.id),download:!0,children:(0,r.jsxs)(d.z,{size:"sm",variant:"outline",className:"border-white/10",children:[(0,r.jsx)(N.Z,{className:"w-4 h-4 mr-1"}),"Download"]})})]})]},s.id)})})})]})})}},9174:function(e,s,t){"use strict";t.d(s,{C:function(){return l}});var r=t(7437);t(2265);var a=t(535),n=t(3448);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-success/20 text-success",warning:"border-transparent bg-warning/20 text-warning"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:t,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:t}),s),...a})}},7204:function(e,s,t){"use strict";t.d(s,{E:function(){return l}});var r=t(7437),a=t(2265),n=t(1505),i=t(3448);let l=a.forwardRef((e,s)=>{let{className:t,value:a,...l}=e;return(0,r.jsx)(n.fC,{ref:s,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary/20",t),...l,children:(0,r.jsx)(n.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});l.displayName=n.fC.displayName}},function(e){e.O(0,[259,464,972,572,20,886,971,117,744],function(){return e(e.s=9945)}),_N_E=e.O()}]);