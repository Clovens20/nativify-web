(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[895],{8783:function(e,t,r){Promise.resolve().then(r.bind(r,2688))},2688:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var s=r(7437),a=r(2265),n=r(7648),i=r(9376),c=r(1245),o=r(8705),l=r(9820),d=r(2381),u=r(9174),m=r(1837),f=r(4438),x=r(1817),h=r(9397),j=r(3388),p=r(9202),b=r(8930);function g(){let{user:e,loading:t}=(0,c.a)(),r=(0,i.useRouter)(),[g,v]=(0,a.useState)([]),[y,N]=(0,a.useState)(!0);(0,a.useEffect)(()=>{t||e||r.push("/login")},[e,t,r]),(0,a.useEffect)(()=>{(async()=>{if(null==e?void 0:e.id)try{let t=await m.qx.getAll(e.id);v(t)}catch(e){console.error("Failed to fetch projects:",e),f.Am.error("Failed to load projects")}finally{N(!1)}})()},[e]);let w=async(t,r)=>{if(r.preventDefault(),r.stopPropagation(),(null==e?void 0:e.id)&&confirm("Are you sure you want to delete this project?"))try{await m.qx.delete(t,e.id),v(g.filter(e=>e.id!==t)),f.Am.success("Project deleted")}catch(e){f.Am.error("Failed to delete project")}};return t||!e?(0,s.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,s.jsx)(x.Z,{className:"w-8 h-8 animate-spin text-primary"})}):(0,s.jsxs)(o.c,{title:"Projects",subtitle:"Manage your NativiWeb projects",children:[(0,s.jsx)("div",{className:"flex justify-end mb-6",children:(0,s.jsx)(n.default,{href:"/projects/new",children:(0,s.jsxs)(d.z,{className:"bg-primary text-black font-bold hover:bg-primary-hover","data-testid":"create-project-btn",children:[(0,s.jsx)(h.Z,{className:"w-4 h-4 mr-2"}),"New Project"]})})}),y?(0,s.jsx)("div",{className:"flex justify-center py-20",children:(0,s.jsx)(x.Z,{className:"w-8 h-8 animate-spin text-primary"})}):0===g.length?(0,s.jsx)(l.Zb,{className:"bg-background-paper border-white/10",children:(0,s.jsxs)(l.aY,{className:"py-20 text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(j.Z,{className:"w-8 h-8 text-primary"})}),(0,s.jsx)("h3",{className:"text-xl font-heading font-bold mb-2",children:"No projects yet"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-6",children:"Create your first project to get started"}),(0,s.jsx)(n.default,{href:"/projects/new",children:(0,s.jsxs)(d.z,{className:"bg-primary text-black font-bold",children:[(0,s.jsx)(h.Z,{className:"w-4 h-4 mr-2"}),"Create Your First Project"]})})]})}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(e=>(0,s.jsx)(n.default,{href:"/projects/".concat(e.id),children:(0,s.jsx)(l.Zb,{className:"bg-background-paper border-white/10 hover:border-primary/30 transition-all h-full","data-testid":"project-card-".concat(e.id),children:(0,s.jsxs)(l.aY,{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-lg bg-primary/10 border border-primary/30 flex items-center justify-center",children:(0,s.jsx)(p.Z,{className:"w-6 h-6 text-primary"})}),(0,s.jsx)(d.z,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive",onClick:t=>w(e.id,t),"data-testid":"delete-project-".concat(e.id),children:(0,s.jsx)(b.Z,{className:"w-4 h-4"})})]}),(0,s.jsx)("h3",{className:"font-heading font-bold text-lg mb-1",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground truncate mb-3",children:e.web_url}),e.description&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-4",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[e.platform.includes("android")&&(0,s.jsx)(u.C,{variant:"outline",className:"text-success border-success/30",children:"Android"}),e.platform.includes("ios")&&(0,s.jsx)(u.C,{variant:"outline",className:"text-info border-info/30",children:"iOS"})]}),(0,s.jsx)(u.C,{variant:"active"===e.status?"success":"warning",children:e.status})]})]})})},e.id))})]})}},9174:function(e,t,r){"use strict";r.d(t,{C:function(){return c}});var s=r(7437);r(2265);var a=r(535),n=r(3448);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-success/20 text-success",warning:"border-transparent bg-warning/20 text-warning"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)(i({variant:r}),t),...a})}}},function(e){e.O(0,[259,464,972,572,438,215,886,971,117,744],function(){return e(e.s=8783)}),_N_E=e.O()}]);