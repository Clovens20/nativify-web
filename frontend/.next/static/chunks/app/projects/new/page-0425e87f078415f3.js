(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[248],{7670:function(e,r,s){Promise.resolve().then(s.bind(s,1187))},1187:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return R}});var t=s(7437),a=s(2265),i=s(9376),n=s(1245),o=s(8705),c=s(9820),l=s(2381),d=s(279),u=s(5060),m=s(3448);let p=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("textarea",{className:(0,m.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,...a})});p.displayName="Textarea";var f=s(9270),x=s(401);let b=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(f.fC,{ref:r,className:(0,m.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...a,children:(0,t.jsx)(f.z$,{className:(0,m.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(x.Z,{className:"h-4 w-4"})})})});b.displayName=f.fC.displayName;var g=s(9174),h=s(1837),v=s(4438),j=s(9202),y=s(3388),N=s(6275),w=s(8736),_=s(5005),k=s(284),C=s(5900),Z=s(8553),A=s(6657),z=s(1817);let P=[{id:"blank",name:"Projet Vide",description:"Commencez de z\xe9ro avec une configuration minimale",icon:j.Z,color:"primary",features:["push_notifications","local_storage"],recommended:!1},{id:"pwa",name:"PWA Standard",description:"Progressive Web App avec toutes les fonctionnalit\xe9s essentielles",icon:y.Z,color:"success",features:["push_notifications","local_storage","geolocation","camera","share"],recommended:!0},{id:"ecommerce",name:"E-Commerce",description:"Boutique en ligne avec paiements et notifications",icon:N.Z,color:"warning",features:["push_notifications","local_storage","biometrics","haptics","share","clipboard"],recommended:!1},{id:"blog",name:"Blog / Media",description:"Site de contenu avec partage social et offline",icon:w.Z,color:"info",features:["push_notifications","local_storage","share","clipboard","deep_links"],recommended:!1},{id:"business",name:"App Business",description:"Application professionnelle avec authentification s\xe9curis\xe9e",icon:_.Z,color:"secondary",features:["push_notifications","local_storage","biometrics","contacts","file_system","clipboard"],recommended:!1},{id:"gaming",name:"Jeu / Divertissement",description:"Application ludique avec feedback haptique",icon:k.Z,color:"destructive",features:["push_notifications","local_storage","haptics","share","app_badge"],recommended:!1},{id:"education",name:"\xc9ducation",description:"Plateforme d'apprentissage avec contenu offline",icon:C.Z,color:"primary",features:["push_notifications","local_storage","camera","file_system","share"],recommended:!1},{id:"restaurant",name:"Restaurant / Livraison",description:"Application de commande avec g\xe9olocalisation",icon:Z.Z,color:"warning",features:["push_notifications","local_storage","geolocation","share","haptics","deep_links"],recommended:!1}];function R(){var e,r;let{user:s}=(0,n.a)(),m=(0,i.useRouter)(),[f,N]=(0,a.useState)(!1),[w,_]=(0,a.useState)(null),[k,C]=(0,a.useState)(1),[Z,R]=(0,a.useState)({name:"",web_url:"",description:"",android:!0,ios:!0}),S=e=>{_(e)},F=async e=>{if(e.preventDefault(),!Z.name||!Z.web_url){v.Am.error("Veuillez remplir les champs obligatoires");return}if(!Z.android&&!Z.ios){v.Am.error("Veuillez s\xe9lectionner au moins une plateforme");return}if(!(null==s?void 0:s.id)){v.Am.error("Vous devez \xeatre connect\xe9");return}N(!0);try{let e=[];Z.android&&e.push("android"),Z.ios&&e.push("ios");let r=P.find(e=>e.id===w),t=(null==r?void 0:r.features.map(e=>({id:e,name:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()),enabled:!0,config:{}})))||[],a=await h.qx.create({name:Z.name,web_url:Z.web_url,description:Z.description||'Projet cr\xe9\xe9 avec le template "'.concat(null==r?void 0:r.name,'"'),platform:e,features:t},s.id);v.Am.success("Projet cr\xe9\xe9 avec succ\xe8s!"),m.push("/projects/".concat(a.id))}catch(e){var r,t;v.Am.error((null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.detail)||"Erreur lors de la cr\xe9ation")}finally{N(!1)}},V=(e,r)=>{var s;let t={primary:{bg:"bg-primary/10",border:"border-primary/30",text:"text-primary"},success:{bg:"bg-success/10",border:"border-success/30",text:"text-success"},warning:{bg:"bg-warning/10",border:"border-warning/30",text:"text-warning"},info:{bg:"bg-info/10",border:"border-info/30",text:"text-info"},secondary:{bg:"bg-secondary/10",border:"border-secondary/30",text:"text-secondary"},destructive:{bg:"bg-destructive/10",border:"border-destructive/30",text:"text-destructive"}};return(null===(s=t[e])||void 0===s?void 0:s[r])||t.primary[r]};return(0,t.jsxs)(o.c,{title:"Cr\xe9er un Nouveau Projet",subtitle:1===k?"Choisissez un template pour d\xe9marrer rapidement":"Configurez votre projet",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 ".concat(k>=1?"text-primary":"text-muted-foreground"),children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(k>=1?"bg-primary text-black":"bg-muted"),children:k>1?(0,t.jsx)(x.Z,{className:"w-4 h-4"}):"1"}),(0,t.jsx)("span",{className:"font-medium",children:"Template"})]}),(0,t.jsx)("div",{className:"h-px w-16 bg-white/10"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 ".concat(k>=2?"text-primary":"text-muted-foreground"),children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(k>=2?"bg-primary text-black":"bg-muted"),children:"2"}),(0,t.jsx)("span",{className:"font-medium",children:"Configuration"})]})]}),1===k&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:P.map(e=>{let r=e.icon,s=w===e.id;return(0,t.jsx)(c.Zb,{className:"cursor-pointer transition-all hover:scale-[1.02] ".concat(s?"bg-primary/10 border-primary ring-2 ring-primary":"bg-background-paper border-white/10 hover:border-white/20"),onClick:()=>S(e.id),"data-testid":"template-".concat(e.id),children:(0,t.jsxs)(c.aY,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg ".concat(V(e.color,"bg")," ").concat(V(e.color,"border")," border flex items-center justify-center"),children:(0,t.jsx)(r,{className:"w-5 h-5 ".concat(V(e.color,"text"))})}),e.recommended&&(0,t.jsx)(g.C,{className:"bg-success/20 text-success text-xs",children:"Recommand\xe9"}),s&&(0,t.jsx)("div",{className:"w-6 h-6 rounded-full bg-primary flex items-center justify-center",children:(0,t.jsx)(x.Z,{className:"w-4 h-4 text-black"})})]}),(0,t.jsx)("h3",{className:"font-heading font-bold mb-1",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-3",children:e.description}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.features.slice(0,3).map(e=>(0,t.jsx)(g.C,{variant:"outline",className:"text-xs",children:e.replace(/_/g," ")},e)),e.features.length>3&&(0,t.jsxs)(g.C,{variant:"outline",className:"text-xs",children:["+",e.features.length-3]})]})]})},e.id)})}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(l.z,{onClick:()=>{if(!w){v.Am.error("Veuillez s\xe9lectionner un template");return}C(2)},className:"bg-primary text-black font-bold hover:bg-primary-hover",disabled:!w,"data-testid":"next-step-btn",children:"Continuer"})})]}),2===k&&(0,t.jsx)("div",{className:"max-w-2xl",children:(0,t.jsxs)(c.Zb,{className:"bg-background-paper border-white/10",children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(j.Z,{className:"w-5 h-5 text-primary"}),"D\xe9tails du Projet"]}),(0,t.jsxs)(c.SZ,{children:["Template s\xe9lectionn\xe9: ",(0,t.jsx)("span",{className:"text-primary font-medium",children:null===(e=P.find(e=>e.id===w))||void 0===e?void 0:e.name})]})]}),(0,t.jsx)(c.aY,{children:(0,t.jsxs)("form",{onSubmit:F,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u._,{htmlFor:"name",children:"Nom du Projet *"}),(0,t.jsx)(d.I,{id:"name",placeholder:"Mon Application",value:Z.name,onChange:e=>R({...Z,name:e.target.value}),className:"bg-background border-white/10","data-testid":"project-name"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u._,{htmlFor:"web_url",children:"URL de l'Application Web *"}),(0,t.jsx)(d.I,{id:"web_url",type:"url",placeholder:"https://monapp.com",value:Z.web_url,onChange:e=>R({...Z,web_url:e.target.value}),className:"bg-background border-white/10","data-testid":"project-url"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"L'URL de votre application web \xe0 convertir"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u._,{htmlFor:"description",children:"Description"}),(0,t.jsx)(p,{id:"description",placeholder:"D\xe9crivez bri\xe8vement votre application...",value:Z.description,onChange:e=>R({...Z,description:e.target.value}),className:"bg-background border-white/10","data-testid":"project-description"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(u._,{children:"Plateformes Cibles *"}),(0,t.jsxs)("div",{className:"flex gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b,{id:"android",checked:Z.android,onCheckedChange:e=>R({...Z,android:!!e}),"data-testid":"platform-android"}),(0,t.jsxs)(u._,{htmlFor:"android",className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)(y.Z,{className:"w-4 h-4 text-success"}),"Android"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b,{id:"ios",checked:Z.ios,onCheckedChange:e=>R({...Z,ios:!!e}),"data-testid":"platform-ios"}),(0,t.jsxs)(u._,{htmlFor:"ios",className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)(A.Z,{className:"w-4 h-4 text-info"}),"iOS"]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u._,{children:"Fonctionnalit\xe9s incluses"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 p-4 rounded-lg border border-white/10 bg-background",children:null===(r=P.find(e=>e.id===w))||void 0===r?void 0:r.features.map(e=>(0,t.jsxs)(g.C,{className:"bg-primary/20 text-primary",children:[(0,t.jsx)(x.Z,{className:"w-3 h-3 mr-1"}),e.replace(/_/g," ")]},e))}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Vous pourrez modifier ces fonctionnalit\xe9s apr\xe8s la cr\xe9ation du projet"})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,t.jsx)(l.z,{type:"button",variant:"outline",className:"border-white/10",onClick:()=>{C(1)},children:"Retour"}),(0,t.jsx)(l.z,{type:"submit",className:"bg-primary text-black font-bold hover:bg-primary-hover flex-1",disabled:f,"data-testid":"create-project-submit",children:f?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(z.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Cr\xe9ation..."]}):"Cr\xe9er le Projet"})]})]})})]})})]})}},9174:function(e,r,s){"use strict";s.d(r,{C:function(){return o}});var t=s(7437);s(2265);var a=s(535),i=s(3448);let n=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-success/20 text-success",warning:"border-transparent bg-warning/20 text-warning"}},defaultVariants:{variant:"default"}});function o(e){let{className:r,variant:s,...a}=e;return(0,t.jsx)("div",{className:(0,i.cn)(n({variant:s}),r),...a})}},279:function(e,r,s){"use strict";s.d(r,{I:function(){return n}});var t=s(7437),a=s(2265),i=s(3448);let n=a.forwardRef((e,r)=>{let{className:s,type:a,...n}=e;return(0,t.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,...n})});n.displayName="Input"},5060:function(e,r,s){"use strict";s.d(r,{_:function(){return l}});var t=s(7437),a=s(2265),i=s(370),n=s(535),o=s(3448);let c=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(i.f,{ref:r,className:(0,o.cn)(c(),s),...a})});l.displayName=i.f.displayName}},function(e){e.O(0,[259,464,972,572,438,299,824,886,971,117,744],function(){return e(e.s=7670)}),_N_E=e.O()}]);