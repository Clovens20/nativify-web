"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[886],{8705:function(e,t,a){a.d(t,{c:function(){return Z}});var n=a(7437),r=a(7648),c=a(9376),i=a(1245),s=a(3448),o=a(2381),d=a(2265),l=a(7954);let u=d.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(l.fC,{ref:t,className:(0,s.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});u.displayName=l.fC.displayName,d.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(l.Ee,{ref:t,className:(0,s.cn)("aspect-square h-full w-full",a),...r})}).displayName=l.Ee.displayName;let f=d.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(l.NY,{ref:t,className:(0,s.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});f.displayName=l.NY.displayName;var m=a(5466),h=a(2051),g=a(3454),p=a(4001),v=a(8736),x=a(8728),b=a(1239),y=a(8906),w=a(7692);let N=[{href:"/dashboard",icon:m.Z,label:"Dashboard"},{href:"/projects",icon:h.Z,label:"Projects"},{href:"/builds",icon:g.Z,label:"Builds"},{href:"/api-keys",icon:p.Z,label:"API Keys"},{href:"/docs",icon:v.Z,label:"Documentation"},{href:"/settings",icon:x.Z,label:"Settings"}];function j(){var e,t;let a=(0,c.usePathname)(),{user:d,logout:l}=(0,i.a)();return(0,n.jsxs)("aside",{className:"fixed left-0 top-0 h-screen w-64 bg-background-paper border-r border-white/10 flex flex-col",children:[(0,n.jsx)("div",{className:"p-6 border-b border-white/10",children:(0,n.jsxs)(r.default,{href:"/dashboard",className:"flex items-center gap-3","data-testid":"sidebar-logo",children:[(0,n.jsx)("div",{className:"w-10 h-10 rounded-md bg-primary/20 border border-primary flex items-center justify-center",children:(0,n.jsx)(b.Z,{className:"w-5 h-5 text-primary"})}),(0,n.jsx)("span",{className:"font-heading font-bold text-xl",children:"NativiWeb"})]})}),(0,n.jsxs)("nav",{className:"flex-1 p-4 space-y-1",children:[N.map(e=>{let t=e.icon,c=a===e.href;return(0,n.jsxs)(r.default,{href:e.href,"data-testid":"nav-".concat(e.label.toLowerCase()),className:(0,s.cn)("flex items-center gap-3 px-4 py-3 rounded-md text-sm font-medium transition-all",c?"bg-primary/10 text-primary border border-primary/30":"text-muted-foreground hover:bg-white/5 hover:text-foreground"),children:[(0,n.jsx)(t,{className:"w-5 h-5"}),e.label]},e.href)}),(null==d?void 0:d.role)==="admin"&&(0,n.jsxs)(r.default,{href:"/admin","data-testid":"nav-admin",className:(0,s.cn)("flex items-center gap-3 px-4 py-3 rounded-md text-sm font-medium transition-all","/admin"===a?"bg-secondary/10 text-secondary border border-secondary/30":"text-muted-foreground hover:bg-white/5 hover:text-foreground"),children:[(0,n.jsx)(y.Z,{className:"w-5 h-5"}),"Admin Panel"]})]}),(0,n.jsxs)("div",{className:"p-4 border-t border-white/10",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,n.jsx)(u,{className:"h-10 w-10 border border-white/10",children:(0,n.jsx)(f,{className:"bg-primary/20 text-primary",children:(null==d?void 0:null===(t=d.name)||void 0===t?void 0:null===(e=t.charAt(0))||void 0===e?void 0:e.toUpperCase())||"U"})}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("p",{className:"text-sm font-medium truncate",children:(null==d?void 0:d.name)||"User"}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:null==d?void 0:d.email})]})]}),(0,n.jsxs)(o.z,{variant:"ghost",className:"w-full justify-start text-muted-foreground hover:text-destructive",onClick:l,"data-testid":"logout-btn",children:[(0,n.jsx)(w.Z,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}function Z(e){let{children:t,title:a,subtitle:r}=e;return(0,n.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,n.jsx)(j,{}),(0,n.jsxs)("main",{className:"ml-64 p-8",children:[(a||r)&&(0,n.jsxs)("div",{className:"mb-8",children:[a&&(0,n.jsx)("h1",{className:"text-3xl font-heading font-bold text-foreground","data-testid":"page-title",children:a}),r&&(0,n.jsx)("p",{className:"mt-2 text-muted-foreground","data-testid":"page-subtitle",children:r})]}),t]})]})}},2381:function(e,t,a){a.d(t,{z:function(){return d}});var n=a(7437),r=a(2265),c=a(7495),i=a(535),s=a(3448);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary-hover",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary-hover",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:a,variant:r,size:i,asChild:d=!1,...l}=e,u=d?c.g7:"button";return(0,n.jsx)(u,{className:(0,s.cn)(o({variant:r,size:i,className:a})),ref:t,...l})});d.displayName="Button"},9820:function(e,t,a){a.d(t,{Ol:function(){return s},SZ:function(){return d},Zb:function(){return i},aY:function(){return l},eW:function(){return u},ll:function(){return o}});var n=a(7437),r=a(2265),c=a(3448);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,c.cn)("rounded-lg border border-border bg-card text-card-foreground shadow-sm",a),...r})});i.displayName="Card";let s=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",a),...r})});s.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("h3",{ref:t,className:(0,c.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});o.displayName="CardTitle";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("p",{ref:t,className:(0,c.cn)("text-sm text-muted-foreground",a),...r})});d.displayName="CardDescription";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,c.cn)("p-6 pt-0",a),...r})});l.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,c.cn)("flex items-center p-6 pt-0",a),...r})});u.displayName="CardFooter"},1245:function(e,t,a){a.d(t,{AuthProvider:function(){return l},a:function(){return d}});var n=a(7437),r=a(2265),c=a(5526),i=a(3464);let s="https://nativify.preview.emergentagent.com/api",o=(0,r.createContext)(null),d=()=>{let e=(0,r.useContext)(o);if(!e)throw Error("useAuth must be used within AuthProvider");return e},l=e=>{let{children:t}=e,[a,d]=(0,r.useState)(null),[l,u]=(0,r.useState)(null),[f,m]=(0,r.useState)(!0),h=(0,c.e)();(0,r.useEffect)(()=>{(async()=>{try{let{data:{session:t}}=await h.auth.getSession();if(null==t?void 0:t.user){u(t);try{let e=await i.Z.get("".concat(s,"/auth/me?token=").concat(t.access_token));d(e.data)}catch(a){var e;console.error("Failed to fetch user profile:",a),d({id:t.user.id,email:t.user.email||"",name:(null===(e=t.user.user_metadata)||void 0===e?void 0:e.name)||"",role:"user"})}}}catch(e){console.error("Auth init error:",e)}finally{m(!1)}})();let{data:{subscription:e}}=h.auth.onAuthStateChange(async(e,t)=>{if(u(t),null==t?void 0:t.user)try{let e=await i.Z.get("".concat(s,"/auth/me?token=").concat(t.access_token));d(e.data)}catch(e){var a;d({id:t.user.id,email:t.user.email||"",name:(null===(a=t.user.user_metadata)||void 0===a?void 0:a.name)||"",role:"user"})}else d(null)});return()=>{e.unsubscribe()}},[]);let g=async(e,t)=>{let{token:a,user:n}=(await i.Z.post("".concat(s,"/auth/login"),{email:e,password:t})).data;return await h.auth.signInWithPassword({email:e,password:t}),d(n),n},p=async(e,t,a)=>(await i.Z.post("".concat(s,"/auth/register"),{email:e,password:t,name:a})).data,v=async()=>{try{(null==l?void 0:l.access_token)&&await i.Z.post("".concat(s,"/auth/logout?token=").concat(l.access_token))}catch(e){console.error("Logout error:",e)}await h.auth.signOut(),d(null),u(null)},x=async()=>{await h.auth.signInWithOAuth({provider:"github",options:{redirectTo:"".concat(window.location.origin,"/auth/callback")}})};return(0,n.jsx)(o.Provider,{value:{user:a,session:l,loading:f,login:g,register:p,logout:v,loginWithGitHub:x,isAuthenticated:!!a},children:t})}},1837:function(e,t,a){a.d(t,{Hg:function(){return s},Nq:function(){return l},Sm:function(){return i},aA:function(){return o},qx:function(){return c},z3:function(){return d}});var n=a(3464);let r="https://nativify.preview.emergentagent.com/api",c={getAll:async e=>(await n.Z.get("".concat(r,"/projects?user_id=").concat(e))).data,getOne:async(e,t)=>(await n.Z.get("".concat(r,"/projects/").concat(e,"?user_id=").concat(t))).data,create:async(e,t)=>(await n.Z.post("".concat(r,"/projects?user_id=").concat(t),e)).data,update:async(e,t,a)=>(await n.Z.put("".concat(r,"/projects/").concat(e,"?user_id=").concat(a),t)).data,delete:async(e,t)=>(await n.Z.delete("".concat(r,"/projects/").concat(e,"?user_id=").concat(t))).data},i={getAll:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a="".concat(r,"/builds?user_id=").concat(e);return t&&(a+="&project_id=".concat(t)),(await n.Z.get(a)).data},getOne:async(e,t)=>(await n.Z.get("".concat(r,"/builds/").concat(e,"?user_id=").concat(t))).data,create:async(e,t)=>(await n.Z.post("".concat(r,"/builds?user_id=").concat(t),e)).data,download:(e,t)=>"".concat(r,"/builds/").concat(e,"/download?user_id=").concat(t)},s={getAll:async e=>(await n.Z.get("".concat(r,"/api-keys?user_id=").concat(e))).data,create:async(e,t)=>(await n.Z.post("".concat(r,"/api-keys?user_id=").concat(t),e)).data,delete:async(e,t)=>(await n.Z.delete("".concat(r,"/api-keys/").concat(e,"?user_id=").concat(t))).data},o={get:async e=>(await n.Z.get("".concat(r,"/stats?user_id=").concat(e))).data},d={getAll:async()=>(await n.Z.get("".concat(r,"/features"))).data},l={getUsers:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return(await n.Z.get("".concat(r,"/admin/users?admin_id=").concat(e,"&page=").concat(t,"&limit=").concat(a))).data},updateUser:async(e,t,a)=>(await n.Z.put("".concat(r,"/admin/users/").concat(e,"?admin_id=").concat(t),a)).data,getBuilds:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,c=arguments.length>3?arguments[3]:void 0,i="".concat(r,"/admin/builds?admin_id=").concat(e,"&page=").concat(t,"&limit=").concat(a);return c&&(i+="&status=".concat(c)),(await n.Z.get(i)).data},getLogs:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,c=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,s="".concat(r,"/admin/logs?admin_id=").concat(e,"&page=").concat(t,"&limit=").concat(a);return c&&(s+="&level=".concat(c)),i&&(s+="&category=".concat(i)),(await n.Z.get(s)).data},getAnalytics:async e=>(await n.Z.get("".concat(r,"/admin/analytics?admin_id=").concat(e))).data}},5526:function(e,t,a){a.d(t,{e:function(){return r}});var n=a(1259);function r(){return(0,n.createBrowserClient)("https://nrjadlmluharqvlqymtp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5yamFkbG1sdWhhcnF2bHF5bXRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc2NzM2OTYsImV4cCI6MjA4MzI0OTY5Nn0.F68c5SETbif9HWdNMRBbXa5tEvXVegrbdob5fFjLo38")}},3448:function(e,t,a){a.d(t,{cn:function(){return c}});var n=a(1994),r=a(3335);function c(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,n.W)(t))}}}]);